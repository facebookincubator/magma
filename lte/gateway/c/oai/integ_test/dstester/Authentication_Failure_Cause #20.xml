<?xml version="1.0" encoding="UTF-8"?>
<dst:devsol xmlns:dst="http://www.developingsolutions.com/schema/dsTest" test_name="Local Library/Test_library/Reg_Pdu_Dereg_MAC_Failure.dsx">
<!-- XML generated by dsClientv5.5.20201109 on 06/03/2021 17:23:43 using dsTest schema v5.5.20210117 -->
  <config>
    <nodes>
        <spr name="spr_gnb">
          <auto_start>true</auto_start>
            <subscriber_database count="1" name="gnb_subs">
              <subscriber_profiles>
                  <access_profile name="access_profile">
                    <new_radio_128_nea0_encryption>true</new_radio_128_nea0_encryption>
                    <new_radio_128_nia0_integrity>true</new_radio_128_nia0_integrity>
                    <requested_nssai>
                      <s_nssai>
                        <sst>222</sst>
                        <sd>123</sd>
                      </s_nssai>
                      <s_nssai>
                        <sst>75</sst>
                        <sd>2</sd>
                      </s_nssai>
                    </requested_nssai>
                    <ssc_mode>1</ssc_mode>
                  </access_profile>
                  <authentication_profile name="authentication_profile_1">
                    <auth_type>5gAKA</auth_type>
                    <auth_algorithm>Milenage</auth_algorithm>
                    <amf>0x8000</amf>
                  </authentication_profile>
                  <subscription_profile name="subscription_profile">
                    <pdu_config>
                      <context_id>34</context_id>
                      <type>IPv4</type>
                      <dnn>carrier.com</dnn>
                      <s_nssai>
                        <sst>222</sst>
                        <sd>123</sd>
                      </s_nssai>
                      <up_transport_address>10.32.116.1</up_transport_address>
                    </pdu_config>
                  </subscription_profile>
                  <user_data_profile name="user_data_profile_1">
                    <delay>500</delay>
                      <basic_data name="basic_data">
                        <dest_ip>8.8.8.8</dest_ip>
                        <protocol>TCP</protocol>
                        <dport>53</dport>
                        <sport>5001</sport>
                        <size>1024</size>
                        <rate>1000</rate>
                        <auto_start>false</auto_start>
                      </basic_data>
                  </user_data_profile>
                  <SmartProfile name="SmartProfile">
                      <SmartEvents>
                        <states>
                          <state start_point="133.6,81.6" width="100.0" height="60.0">registration</state>
                          <state start_point="366.1000000000001,81.6" width="100.0" height="60.0">pdu_setup</state>
                          <state start_point="510.1000000000001,193.6" width="100.0" height="60.0">pdu_delete</state>
                          <state start_point="381.6000000000001,337.6" width="100.0" height="60.0">deregistration</state>
                          <state start_point="157.6,341.6000000000001" width="100.0" height="60.0">ending</state>
                        </states>
                        <event_handlers>
                          <event_handler start_point="143.9333333333333,81.93333333333332" end_point="223.9333333333333,81.93333333333332" height="-68">
                            <current_state>registration</current_state>
                            <transaction_start/>
                            <action>
                              <app>n2</app>
                              <event>registration</event>
                              <node>gnb_1</node>
                            </action>
                          </event_handler>
                          <event_handler start_point="233.9333333333333,111.93333333333332" end_point="366.4333333333334,111.93333333333332" height="-92">
                            <current_state>registration</current_state>
                            <event_received app="n2" event="registration"/>
                            <next_state>pdu_setup</next_state>
                            <timer>2000</timer>
                          </event_handler>
                          <event_handler start_point="376.4333333333334,81.93333333333332" end_point="456.4333333333334,81.93333333333332" height="-92">
                            <current_state>pdu_setup</current_state>
                            <timeout/>
                            <action>
                              <app>n2</app>
                              <event>pdu_session_establish</event>
                              <node>gnb_1</node>
                              <dnn>carrier.com</dnn>
                            </action>
                          </event_handler>
                          <event_handler start_point="466.4333333333334,111.93333333333332" end_point="560.4333333333334,193.9333333333333" height="-72">
                            <current_state>pdu_setup</current_state>
                            <event_received app="n2" event="pdu_session_establish"/>
                            <next_state>pdu_delete</next_state>
                            <timer>2000</timer>
                          </event_handler>
                          <event_handler start_point="610.4333333333334,203.9333333333333" end_point="610.4333333333334,243.9333333333333" height="68">
                            <current_state>pdu_delete</current_state>
                            <timeout/>
                            <action>
                              <app>n2</app>
                              <event>pdu_session_release</event>
                              <node>gnb_1</node>
                              <dnn>carrier.com</dnn>
                            </action>
                          </event_handler>
                          <event_handler start_point="560.4333333333334,253.9333333333333" end_point="481.9333333333334,367.9333333333334" height="-92">
                            <current_state>pdu_delete</current_state>
                            <event_received app="n2" event="pdu_session_release"/>
                            <next_state>deregistration</next_state>
                            <timer>2000</timer>
                          </event_handler>
                          <event_handler start_point="381.9333333333334,367.9333333333334" end_point="257.93333333333334,371.9333333333334" height="-68">
                            <current_state>deregistration</current_state>
                            <timeout/>
                            <action>
                              <app>n2</app>
                              <event>deregistration</event>
                              <node>gnb_1</node>
                            </action>
                            <next_state>ending</next_state>
                          </event_handler>
                          <event_handler start_point="207.9333333333333,341.9333333333334" end_point="183.9333333333333,141.9333333333333" height="-52">
                            <current_state>ending</current_state>
                            <event_received app="n2" event="deregistration"/>
                            <transaction_complete/>
                          </event_handler>
                          <event_handler start_point="108.26666666666665,275.2" end_point="133.9333333333333,131.9333333333333" height="-72">
                            <current_state>ANY</current_state>
                            <error/>
                            <transaction_failed/>
                          </event_handler>
                          <event_handler start_point="44.333333333333336,243.0" end_point="133.9333333333333,111.93333333333332" height="-86">
                            <current_state>ANY</current_state>
                            <event_received app="n2" event="protocol_failed"/>
                            <transaction_failed/>
                          </event_handler>
                        </event_handlers>
                      </SmartEvents>
                  </SmartProfile>
              </subscriber_profiles>
              <subscriber_group start="1" end="1" name="subscriber_group">
                <group_profiles>
                  <access_profile>access_profile</access_profile>
                  <authentication_profile>authentication_profile_1</authentication_profile>
                  <subscription_profile>subscription_profile</subscription_profile>
                  <user_data_profile>user_data_profile_1</user_data_profile>
                  <SmartProfile>SmartProfile</SmartProfile>
                </group_profiles>
                <identities>
                  <imsi>208950000000031</imsi>
                  <key>0x0A0C34601F4D07677303652C0462535D</key>
                  <opc>0x63dfb50aa6523365ee14c1b45d88737e</opc>
                </identities>
                <dynamic_information>
                  <sqn>0x40</sqn>
                  <vplmn>431-265</vplmn>
                  <cell_id>1485</cell_id>
                </dynamic_information>
              </subscriber_group>
            </subscriber_database>
        </spr>
        <gnb name="gnb_1">
          <auto_start>true</auto_start>
          <n2>
            <interface name="interface_1" native="true">
              <sctp>
                <dport>38412</dport>
                <ip_address>10.32.116.1</ip_address>
                <dest_ip_address>10.32.116.9</dest_ip_address>
              </sctp>
              <user_socket>
                <ip_address>10.32.116.1</ip_address>
              </user_socket>
            </interface>
              <user_data>
                <basic_data name="basic_data"/>
              </user_data>
          </n2>
          <mcc>208</mcc>
          <mnc>95</mnc>
          <node_name>gnb-1</node_name>
          <global_gnb_id>1048575</global_gnb_id>
          <default_paging_drx>v32</default_paging_drx>
          <supported_ta>
            <tac>0xa000</tac>
            <bplmn>
              <mcc>208</mcc>
              <mnc>95</mnc>
              <slice_support_item>
                <nssai_sst>222</nssai_sst>
                <nssai_sd>123</nssai_sd>
              </slice_support_item>
              <slice_support_item>
                <nssai_sst>0x27</nssai_sst>
                <nssai_sd>0x385382</nssai_sd>
              </slice_support_item>
            </bplmn>
            <bplmn>
              <mcc>207</mcc>
              <mnc>54</mnc>
              <slice_support_item>
                <nssai_sst>0x10</nssai_sst>
                <nssai_sd>0x583922</nssai_sd>
              </slice_support_item>
            </bplmn>
          </supported_ta>
          <supported_ta>
            <tac>0xa001</tac>
            <bplmn>
              <mcc>202</mcc>
              <mnc>100</mnc>
              <slice_support_item>
                <nssai_sst>0x23</nssai_sst>
                <nssai_sd>0x321236</nssai_sd>
              </slice_support_item>
            </bplmn>
            <bplmn>
              <mcc>203</mcc>
              <mnc>001</mnc>
              <slice_support_item>
                <nssai_sst>0xFF</nssai_sst>
                <nssai_sd>0x123483</nssai_sd>
              </slice_support_item>
            </bplmn>
          </supported_ta>
          <subscriber_database name="gnb_subs"/>
        </gnb>
    </nodes>
  </config>
  <command>
    <wait>1000</wait>
  </command>
  <command>
    <spr name="spr_gnb">
      <action>
        <rate>1</rate>
        <cycle>1</cycle>
        <start>1</start>
        <end>1</end>
        <ready>gnb_1</ready>
        <app>SmartEvents</app>
        <event>start</event>
      </action>
    </spr>
  </command>
</dst:devsol>
